import{d as r,o as p,c as l,k as d,V as s,a2 as f,a3 as _,a4 as m,a5 as h,a6 as y,a7 as A,a8 as b,a9 as g,aa as v,ab as P,ac as w,u as C,j as x,A as E,ad as R,ae as j,af as B,ag as M}from"./chunks/framework.e2b5e608.js";import{t as O}from"./chunks/theme.d08c4dc4.js";const u=e=>(e.install=t=>{t.component(e.name,e)},e);const S=d("button",{class:"lux-button"},"测试按钮",-1),T=[S],D=r({name:"MyButton",__name:"button",setup(e){return(t,n)=>(p(),l("div",null,T))}}),I=u(D),V=r({name:"MyIcon",__name:"icon",setup(e){return(t,n)=>"图标"}}),$=u(V),c=Object.freeze(Object.defineProperty({__proto__:null,MyButton:I,MyIcon:$},Symbol.toStringTag,{value:"Module"})),k={install:e=>{for(let t in c)e.use(c[t])}},F={...O,enhanceApp:async({app:e})=>{e.use(k)}};function i(e){if(e.extends){const t=i(e.extends);return{...t,...e,async enhanceApp(n){t.enhanceApp&&await t.enhanceApp(n),e.enhanceApp&&await e.enhanceApp(n)}}}return e}const o=i(F),L=r({name:"VitePressApp",setup(){const{site:e}=C();return x(()=>{E(()=>{document.documentElement.lang=e.value.lang,document.documentElement.dir=e.value.dir})}),R(),j(),B(),o.setup&&o.setup(),()=>M(o.Layout)}});async function N(){const e=G(),t=z();t.provide(_,e);const n=m(e.route);return t.provide(h,n),t.component("Content",y),t.component("ClientOnly",A),Object.defineProperties(t.config.globalProperties,{$frontmatter:{get(){return n.frontmatter.value}},$params:{get(){return n.page.value.params}}}),o.enhanceApp&&await o.enhanceApp({app:t,router:e,siteData:b}),{app:t,router:e,data:n}}function z(){return g(L)}function G(){let e=s,t;return v(n=>{let a=P(n);return a?(e&&(t=a),(e||t===a)&&(a=a.replace(/\.js$/,".lean.js")),s&&(e=!1),w(()=>import(a),[])):null},o.NotFound)}s&&N().then(({app:e,router:t,data:n})=>{t.go().then(()=>{f(t.route,n.site),e.mount("#app")})});export{N as createApp};
